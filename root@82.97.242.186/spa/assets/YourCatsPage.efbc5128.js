import{c as k,d as A,Q as V}from"./QCard.c4e6021a.js";import{c as F,a as j,Q as _}from"./QBtn.182e9c4d.js";import{c as w,e as c,d as x,h as P,f as E,j as O,g as b,r as B,o as q,Q as u,A as f,B as v,D as l,F as s,K as z,a1 as N,O as R,C as $,L as g,a2 as S,G as d,I as H}from"./index.0a6d1ef9.js";var I=F({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(p,{slots:i}){const{proxy:{$q:r}}=b(),e=w(E,c);if(e===c)return console.error("QPage needs to be a deep child of QLayout"),c;if(w(O,c)===c)return console.error("QPage needs to be child of QPageContainer"),c;const m=x(()=>{const n=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof p.styleFn=="function"){const h=e.isContainer.value===!0?e.containerHeight.value:r.screen.height;return p.styleFn(n,h)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-n+"px":r.screen.height===0?n!==0?`calc(100vh - ${n}px)`:"100vh":r.screen.height-n+"px"}}),y=x(()=>`q-page${p.padding===!0?" q-layout-padding":""}`);return()=>P("main",{class:y.value,style:m.value},j(i.default))}}),K="/assets/quasar-logo-vertical.55e9c854.svg";const L={key:0},T=$("hr",null,null,-1),U=$("img",{alt:"Quasar logo",src:K,style:{width:"200px",height:"200px"}},null,-1),M={__name:"YourCatsPage",setup(p){let i={},r=x(()=>localStorage.token),e=B("");function Q(){g.post("http://127.0.0.1:8000/cats/listcreate/",{name:e.value},{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json",Authorization:"Bearer "+r.value}}).then(t=>{n()}).catch(t=>{console.log(t)})}function m(t){g.delete("http://127.0.0.1:8000/cats/detail/"+t+"/",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json"}}).then(function(a){n()}).catch(function(a){console.log(a)})}function y(t){g.patch("http://127.0.0.1:8000/cats/detail/"+t+"/",{name:i[t]},{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json"}}).then(function(a){n()}).catch(function(a){console.log(a)})}function n(){g.get("http://127.0.0.1:8000/cats/listcreate/",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json",Authorization:"Bearer "+r.value}}).then(function(t){h.value=t.data,t.data.forEach(a=>{i[a.id]=""})}).catch(function(t){console.log(t)})}let h=B([]);return q(()=>{n()}),(t,a)=>u(r)?(f(),v("div",L,[l(k,{style:{width:"300px",margin:"25px"}},{default:s(()=>[l(A,{style:{display:"flex"}},{default:s(()=>[l(V,{label:"name",modelValue:u(e),"onUpdate:modelValue":a[0]||(a[0]=o=>S(e)?e.value=o:e=o)},null,8,["modelValue"]),l(_,{onClick:a[1]||(a[1]=o=>Q())},{default:s(()=>[d(" CREATE ENTRY ")]),_:1})]),_:1})]),_:1}),T,(f(!0),v(z,null,N(u(h),o=>(f(),v("div",{key:o.id},[l(k,{style:{width:"400px",margin:"25px"}},{default:s(()=>[l(A,{style:{display:"flex"}},{default:s(()=>[d(H(o.name)+" ",1),l(V,{label:"rename",modelValue:u(i)[o.id],"onUpdate:modelValue":C=>u(i)[o.id]=C},null,8,["modelValue","onUpdate:modelValue"]),l(_,{onClick:C=>y(o.id)},{default:s(()=>[d(" press to rename ")]),_:2},1032,["onClick"]),l(_,{onClick:C=>m(o.id)},{default:s(()=>[d(" press to delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):(f(),R(I,{key:1,class:"flex flex-center"},{default:s(()=>[d(" if logged in, refresh the page "),U]),_:1}))}};export{M as default};
